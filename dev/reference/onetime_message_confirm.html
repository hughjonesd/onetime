<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This uses readline() to ask the user if the message should
be shown again in future."><title>Print a message, and ask for confirmation to hide it in future — onetime_message_confirm • onetime</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Print a message, and ask for confirmation to hide it in future — onetime_message_confirm"><meta property="og:description" content="This uses readline() to ask the user if the message should
be shown again in future."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">onetime</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.1.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/onetime.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/hughjonesd/onetime/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Print a message, and ask for confirmation to hide it in future</h1>
      <small class="dont-index">Source: <a href="https://github.com/hughjonesd/onetime/blob/HEAD/R/messages.R" class="external-link"><code>R/messages.R</code></a></small>
      <div class="d-none name"><code>onetime_message_confirm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This uses <code><a href="https://rdrr.io/r/base/readline.html" class="external-link">readline()</a></code> to ask the user if the message should
be shown again in future.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">onetime_message_confirm</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  id <span class="op">=</span> <span class="fu">deprecate_calling_package</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  path <span class="op">=</span> <span class="fu">default_lockfile_dir</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  expiry <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  confirm_prompt <span class="op">=</span> <span class="st">"Show this message again? [yN] "</span>,</span>
<span>  confirm_answers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"N"</span>, <span class="st">"n"</span>, <span class="st">"No"</span>, <span class="st">"no"</span><span class="op">)</span>,</span>
<span>  default_answer <span class="op">=</span> <span class="st">"N"</span>,</span>
<span>  require_permission <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  without_permission <span class="op">=</span> <span class="st">"warn"</span>,</span>
<span>  noninteractive <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"To hide this message in future, run:\n"</span>,</span>
<span>    <span class="st">"  onetime_mark_as_done(id = \""</span>, <span class="va">id</span>, <span class="st">"\")"</span><span class="op">)</span>,</span>
<span>  message <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Deprecated.html" class="external-link">.Deprecated</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>...</dt>
<dd><p>Passed to <code><a href="https://rdrr.io/r/base/message.html" class="external-link">message()</a></code>.</p></dd>


<dt>id</dt>
<dd><p>Unique ID string. If this is unset, the name of the calling
package will be used. Since onetime 0.2.0, not setting <code>id</code> is
deprecated.</p></dd>


<dt>path</dt>
<dd><p>Directory to store lockfiles. The default uses a unique
directory corresponding to the calling package, beneath
<code><a href="https://rappdirs.r-lib.org/reference/user_data_dir.html" class="external-link">rappdirs::user_config_dir()</a></code>. Normally you should leave this as the
default.</p></dd>


<dt>expiry</dt>
<dd><p><code><a href="https://rdrr.io/r/base/difftime.html" class="external-link">difftime()</a></code> or e.g. <code>lubridate::duration()</code> object.
After this length of time, code will be run again.</p></dd>


<dt>confirm_prompt</dt>
<dd><p>Character string. Question to prompt the user to hide
the message in future.</p></dd>


<dt>confirm_answers</dt>
<dd><p>Character vector. Answers which will cause
the message to be hidden in future.</p></dd>


<dt>default_answer</dt>
<dd><p>Character string. Default answer if user
simply presses return.</p></dd>


<dt>require_permission</dt>
<dd><p>Logical. Ask permission to store files on the user's
computer, if this hasn't been granted? Setting this to <code>FALSE</code>
overrides <code>without_permission</code>.</p></dd>


<dt>without_permission</dt>
<dd><p>Character string. What to do if the user hasn't
given permission to store files? <code>"warn"</code> runs the action with an extra
warning; <code>"run"</code> runs the action with no warning; <code>"pass"</code> does nothing
and returns the default; <code>"stop"</code> throws an error; <code>"ask"</code> asks for
permission using <code><a href="check_ok_to_store.html">check_ok_to_store()</a></code>, and returns the default if it is
not granted.</p></dd>


<dt>noninteractive</dt>
<dd><p>String. Additional message to send in non-interactive
sessions. Set to <code>NULL</code> to do nothing in non-interactive sessions. The
default tells the user how to manually mark the message as done.</p></dd>


<dt>message</dt>
<dd><p>Deprecated. Use unnamed arguments <code>...</code> instead.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<ul><li><p><code>NULL</code> if the message was not shown (shown already or non-interactive
session and <code>noninteractive</code> was <code>NULL</code>).</p></li>
<li><p><code>TRUE</code> if the user confirmed, i.e. chose to hide the message.</p></li>
<li><p><code>FALSE</code> if the message was shown but the user did not confirm (did not
choose to hide the message, or non-interactive session and <code>noninteractive</code>
was not <code>NULL</code>).</p></li>
</ul><p>Results are returned invisibly.</p>


<p>Note that by default, <code>TRUE</code> is returned when the user answers "no" to
"Show this message again?" and <code>FALSE</code> is returned when the user answers
"yes".</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>By default, the message will be hidden if the user answers
"n", "No", or "N", or just presses return to the prompt question.</p>
<p>Unlike other <code>onetime</code> functions, <code>onetime_message_confirm()</code> doesn't by
default require permission to store files on the user's computer. The
assumption is that saying "Don't show this message again" counts as
granting permission (just for this one message). You can ask for broader
permission by setting <code>require_permission = TRUE</code> and
<code>without_permission = "ask"</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">oo</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>onetime.dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span>check <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">id</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">10000L</span>, <span class="fl">1L</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">onetime_message_confirm</span><span class="op">(</span><span class="st">"A message to show one or more times"</span>, id <span class="op">=</span> <span class="va">id</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> A message to show one or more times</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> To hide this message in future, run:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   onetime_mark_as_done(id = "4941")</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="onetime_reset.html">onetime_reset</a></span><span class="op">(</span>id <span class="op">=</span> <span class="va">id</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>cannot remove file '/tmp/RtmpTsb2ym/NO-PACKAGE/4941', reason 'No such file or directory'</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="va">oo</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by David Hugh-Jones.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

